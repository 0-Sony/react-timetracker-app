(this.webpackJsonptimetracker=this.webpackJsonptimetracker||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/logo.d6451315.png"},22:function(e,t,a){e.exports=a(45)},27:function(e,t,a){},28:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=(a(27),a(28),a(4)),i=a(3),u=a.n(i);a(29);u.a.initializeApp({apiKey:"AIzaSyCzj_BeKUbztGaINhH8Ko_VwG3CQdoIi9A",authDomain:"timetracker-mic.firebaseapp.com",databaseURL:"https://timetracker-mic.firebaseio.com",projectId:"timetracker-mic",storageBucket:"timetracker-mic.appspot.com",messagingSenderId:"445190969876",appId:"1:445190969876:web:f0b425aa3f21011dfa2501",measurementId:"G-BM7CCQRPBX"});var s=u.a,m=Object(n.createContext)(),d=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){return s.auth().onAuthStateChanged((function(e){l(e)}))}),[]),r.a.createElement(m.Provider,{value:[c,l]},e.children)},b=a(7),f=Object(n.createContext)(),p=function(e){var t=Object(n.useContext)(m),a=Object(o.a)(t,1)[0],c=Object(n.useState)([]),l=Object(o.a)(c,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){s.firestore().collection("project").where("user_id","==",a.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(b.a)({id:e.id,isSelected:!1},e.data())}));u(t)}))}),[]),r.a.createElement(f.Provider,{value:[i]},e.children)},E=Object(n.createContext)(),v=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useContext)(m),u=Object(o.a)(i,1)[0];return Object(n.useEffect)((function(){s.firestore().collection("task").where("user_id","==",u.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(b.a)({id:e.id},e.data())}));l(t)}))}),[]),r.a.createElement(E.Provider,{value:[c,l]},e.children)},j=a(8),h=a.n(j),O=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],s=i[1],d=Object(n.useContext)(m),b=Object(o.a)(d,1)[0],f=function(e){if(e.preventDefault(),""!==a){s(!1);var t={title:a,user_id:b.uid};h.a.firestore().collection("project").add(t),c("")}else s(!0)};return r.a.createElement("form",{className:" projectForm",onSubmit:f},r.a.createElement("h3",null,"Create a Project"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Project name"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Project Name",onChange:function(e){s(!1),c(e.currentTarget.value)},value:a}),!0===u?r.a.createElement("span",{className:"text-danger"},"No Project Name Given"):r.a.createElement("span",null),r.a.createElement("button",{onSubmit:f,className:"btn btn-primary project-btn"},"Add Project")))},g=function(e){var t=e.project;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t.id},t.title,r.a.createElement("span",{className:"badge badge-primary badge-pill"},"14"))},N=function(){var e=Object(n.useContext)(f),t=Object(o.a)(e,1)[0];return r.a.createElement("ul",{className:"list-group"},t.map((function(e){return r.a.createElement(g,{key:e.id,project:e})})))},k=function(){var e=Object(n.useContext)(f),t=Object(o.a)(e,1)[0];return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(O,null)),r.a.createElement("div",{className:"col"},r.a.createElement("div",null,r.a.createElement("h3",null,"Number Projects : ",t.length)),r.a.createElement(N,null)))},x=function(){var e=Object(n.useContext)(f);return Object(o.a)(e,1)[0].map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)}))},C=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],d=i[1],b=Object(n.useState)(""),p=Object(o.a)(b,2),E=p[0],v=p[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),O=h[0],g=h[1],N=Object(n.useContext)(f),k=Object(o.a)(N,1)[0],C=Object(n.useContext)(m),y=Object(o.a)(C,1)[0];return r.a.createElement("form",{className:"taskForm",onSubmit:function(e){e.preventDefault();var t="";if(k.forEach((function(e){e.id===O&&(t=e.title)})),""===a)d(!0);else if(""===t)v(!0);else{v(!1);var n={title:a,project_id:O,project_title:t,is_started:!1,timer:[0,0,0],user_id:y.uid};s.firestore().collection("task").add(n),c("")}}},r.a.createElement("h3",null,"Create a Task"),r.a.createElement("span",null,"Select an existing project"),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",onChange:function(e){v(!1),g(e.currentTarget.value)}},r.a.createElement("option",{value:""},"---"),r.a.createElement(x,null)),E?r.a.createElement("span",{className:"text-danger"},"Please select a project"):""),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Task name"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Task Name",onChange:function(e){d(!1),c(e.currentTarget.value)},value:a}),u?r.a.createElement("span",{className:"text-danger"},"No Task Name Given"):""),r.a.createElement("button",{type:"submit",className:"btn btn-primary task-btn"},"Add Task"))},y=function(e){var t=e.task;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t.id},t.title,r.a.createElement("span",{className:"badge badge-primary badge-pill"},"14"))},S=function(){var e=Object(n.useContext)(E),t=Object(o.a)(e,1)[0];return r.a.createElement("ul",{className:"list-group"},t.map((function(e){return r.a.createElement(y,{key:e.id,task:e})})))},w=function(){var e=Object(n.useContext)(E),t=Object(o.a)(e,1)[0];return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(C,null)),r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Number Tasks : ",t.length),r.a.createElement(S,null)))},I=function(e){return e<10?"0".concat(e):e};function P(e){var t=e.timer;t[2]=t[2]+1,60===t[2]&&(t[1]=t[1]+1,t[2]=0),60===t[1]&&(t[0]=t[0]+1,t[1]=0),24===t[0]&&(t[0]=0),s.firestore().collection("task").doc(e.id).set(Object(b.a)({},e,{timer:t}))}var _=function(e){var t=e.task;!function(e,t,a){var r=Object(n.useState)(),c=Object(o.a)(r,2),l=c[0],i=c[1];Object(n.useEffect)((function(){var n=setInterval(e,t,a);return i(n),function(){return clearInterval(n)}}),[])}(P,1e3,t);var a=0;return t.timer.map((function(e,n){var c=++a<3?":":"";return r.a.createElement("span",{key:"".concat(t.id,"-time").concat(n)},I(e),c)}))},A=function(e){var t=e.task;return r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:t.is_started?function(){return function(e){s.firestore().collection("task").doc(e.id).set(Object(b.a)({},e,{is_started:!1}))}(t)}:function(){return function(e){s.firestore().collection("task").doc(e.id).set(Object(b.a)({},e,{is_started:!0}))}(t)}},t.is_started?"Stop":"Start")},T=function(e){var t=e.task,a=e.rowNumber,n=0;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a),r.a.createElement("td",null,t.project_title),r.a.createElement("td",null,t.title),r.a.createElement("td",null,!0===t.is_started?r.a.createElement(_,{task:t}):t.timer.map((function(e){var t=++n<3?":":"";return r.a.createElement("span",{key:n},I(e),t)}))),r.a.createElement("td",null,r.a.createElement(A,{task:t})))},D=function(){var e=Object(n.useContext)(E),t=Object(o.a)(e,1)[0],a=1;return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Project"),r.a.createElement("th",{scope:"col"},"Task"),r.a.createElement("th",{scope:"col"},"Time Spent"),r.a.createElement("th",{scope:"col"},"Action"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(T,{key:"row-".concat(e.id),task:e,rowNumber:a++})}))))},R=function(){var e=Object(n.useContext)(m),t=Object(o.a)(e,1)[0];return r.a.createElement("div",{className:"dashboard"},r.a.createElement("header",null,r.a.createElement("nav",{className:"dashboard-top ui inverted segment"},r.a.createElement("img",{src:t.photoURL,alt:"",className:"avatar"}),r.a.createElement("span",null,"Welcome, ",t.displayName," !"),r.a.createElement("div",null,r.a.createElement("button",{className:"ui purple inverted button",onClick:function(){return s.auth().signOut()}},"Sign out!"))),r.a.createElement("div",{className:"container"},r.a.createElement(p,null,r.a.createElement(v,null,r.a.createElement(D,null),r.a.createElement(k,null),r.a.createElement(w,null))))))},G=a(19),B=a.n(G),V=(a(17),function(){var e={signInFlow:"popup",signInOptions:[h.a.auth.GoogleAuthProvider.PROVIDER_ID,h.a.auth.FacebookAuthProvider.PROVIDER_ID,h.a.auth.GithubAuthProvider.PROVIDER_ID,h.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return r.a.createElement(B.a,{uiConfig:e,firebaseAuth:h.a.auth()})}),z=a(21),F=a.n(z),W=function(){var e=Object(n.useContext)(m),t=Object(o.a)(e,1)[0];return null===t?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:F.a,className:"App-logo mb-5",alt:"logo"}),r.a.createElement("h1",null,"TimeTracker"),r.a.createElement(V,null))):"undefined"===typeof t?r.a.createElement("div",{className:"d-flex justify-content-center App-header"},r.a.createElement("div",{className:"align-self-center  text-light mb-5"},"LOADING"),r.a.createElement("div",{className:"spinner-border align-self-center  text-light",style:{width:"8rem",height:"8rem"},role:"status"})):r.a.createElement(R,null)},K=function(){return r.a.createElement(d,null,r.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.7ccc9758.chunk.js.map